{"version":3,"file":"js/76.6610ac8a.js","mappings":"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","sources":["webpack://food/./src/views/CartView.vue","webpack://food/./src/views/CartView.vue?73a2"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <div class=\"mt-3\">\r\n        <h3 class=\"mt-3 mb-4\">購物清單</h3>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-8\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" class=\"border-0 ps-0\">產品</th>\r\n                  <th scope=\"col\" class=\"border-0\">數量</th>\r\n                  <th scope=\"col\" class=\"border-0\">價錢</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"border-bottom border-top\" v-for=\"cart in carts\" :key=\"cart.id\">\r\n                  <th scope=\"row\" class=\"border-0 px-0 font-weight-normal py-4\">\r\n                    <img :src=\"cart.product.imageUrl\" alt=\"\" style=\"width: 72px; height: 72px; object-fit: cover;\">\r\n                    <p class=\"mb-0 fw-bold ms-3 d-inline-block\">{{cart.product.title}}</p>\r\n                  </th>\r\n                  <td class=\"border-0 align-middle\" style=\"max-width: 160px;\">\r\n                    <div class=\"input-group pe-5\">\r\n                      <div class=\"input-group-prepend numChangeField\">\r\n                        <button class=\"btn btn-outline-dark border-0 py-2 addItemBtn\"\r\n                          @click=\"addCartQty(cart.product.id, cart.qty)\" type=\"button\" id=\"button-addon1\">\r\n                          <i class=\"bi bi-caret-up-fill\"></i>\r\n                        </button>\r\n                      </div>\r\n                      <input type=\"text\" class=\"form-control border-0 text-center my-auto shadow-none\" placeholder=\"\" aria-label=\"Example text with button addon\" aria-describedby=\"button-addon1\"\r\n                        :value=\"cart.qty\">\r\n                      <div class=\"input-group-append\">\r\n                        <button class=\"btn btn-outline-dark border-0 py-2 reduceItemBtn\"\r\n                          @click=\"reduceCartQty(cart.product.id, cart.qty, cart.id)\" type=\"button\" id=\"button-addon2\">\r\n                          <i class=\"bi bi-caret-down-fill\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"border-0 align-middle\"><p class=\"mb-0 ms-auto\">NT${{cart.total}}</p></td>\r\n                  <td class=\"border-0 align-middle\">\r\n                    <div>\r\n                      <button class=\"btn btn-outline-dark border-0 py-2\"><i class=\"bi bi-x\" style=\"fontSize: 175%;\" @click=\"deleteProduct(cart.id)\"></i></button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <div class=\"border p-4 mb-4\">\r\n              <h4 class=\"fw-bold mb-4\">Order Detail</h4>\r\n              <table class=\"table text-muted border-bottom\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th scope=\"row\" class=\"border-0 px-0 pt-4 font-weight-normal\">小計</th>\r\n                    <td class=\"text-end border-0 px-0 pt-4\">NT${{total.total}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th scope=\"row\" class=\"border-0 px-0 pt-0 pb-4 font-weight-normal\">運費</th>\r\n                    <td class=\"text-end border-0 px-0 pt-0 pb-4\">NT$30</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"d-flex justify-content-between mt-4\">\r\n                <p class=\"mb-0 h4 fw-bold\">Total</p>\r\n                <p class=\"mb-0 h4 fw-bold\">NT${{total.final_total+30}}</p>\r\n              </div>\r\n              <router-link class=\"btn btn-dark w-100 mt-4\" to=\"/checkout\">填寫寄送資料</router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      carts: [],\r\n      total: []\r\n    }\r\n  },\r\n  methods: {\r\n    getCartsData () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(url)\r\n        .then(res => {\r\n          console.log(res)\r\n          this.carts = res.data.data.carts\r\n          this.total = res.data.data\r\n          console.log(this.total)\r\n        })\r\n    },\r\n    addCartQty (id, qty) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const data = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data }).then((res) => {\r\n        console.log(res)\r\n        this.getCartsData()\r\n      })\r\n    },\r\n    reduceCartQty (id, qty, orderID) {\r\n      const swalWithBootstrapButtons = this.$swal.mixin({\r\n        customClass: {\r\n          confirmButton: 'btn btn-success',\r\n          cancelButton: 'btn btn-danger'\r\n        },\r\n        buttonsStyling: false\r\n      })\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const data = {\r\n        product_id: id,\r\n        qty: -1\r\n      }\r\n      if ((qty - 1) > 0) {\r\n        this.$http.post(url, { data }).then((res) => {\r\n          console.log(res)\r\n          this.getCartsData()\r\n        })\r\n      } else {\r\n        this.$swal({\r\n          title: '確定移除此產品嘛?',\r\n          text: \"You won't be able to revert this!\",\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonText: '確定',\r\n          cancelButtonText: '否',\r\n          reverseButtons: true\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            swalWithBootstrapButtons.fire(\r\n              'Deleted!',\r\n              '刪除成功!',\r\n              'success'\r\n            )\r\n            this.$http.delete(`${url}/${orderID}`).then((res) => {\r\n              console.log(res)\r\n              this.getCartsData()\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    deleteProduct (id) {\r\n      console.log('a')\r\n      const swalWithBootstrapButtons = this.$swal.mixin({\r\n        customClass: {\r\n          confirmButton: 'btn btn-success',\r\n          cancelButton: 'btn btn-danger'\r\n        },\r\n        buttonsStyling: false\r\n      })\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$swal({\r\n        title: '確定移除此產品嘛?',\r\n        text: \"You won't be able to revert this!\",\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: '確定',\r\n        cancelButtonText: '否',\r\n        reverseButtons: true\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          swalWithBootstrapButtons.fire(\r\n            'Deleted!',\r\n            '刪除成功!',\r\n            'success'\r\n          )\r\n          this.$http.delete(`${url}/${id}`).then((res) => {\r\n            console.log(res)\r\n            this.getCartsData()\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCartsData()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CartView.vue?vue&type=template&id=4caa0c45\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Manson\\\\OneDrive\\\\桌面\\\\food\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","style","_hoisted_15","_hoisted_20","_createElementBlock","_hoisted_3","_hoisted_7","_Fragment","_renderList","$data","cart","key","id","src","product","imageUrl","alt","_toDisplayString","title","onClick","$options","qty","type","placeholder","value","total","_hoisted_29","_hoisted_31","_hoisted_33","_hoisted_35","final_total","_createVNode","_component_router_link","to","data","carts","methods","getCartsData","url","this","$http","get","then","res","console","log","addCartQty","product_id","post","reduceCartQty","orderID","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","text","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","result","isConfirmed","fire","delete","deleteProduct","mounted","__exports__","render"],"sourceRoot":""}