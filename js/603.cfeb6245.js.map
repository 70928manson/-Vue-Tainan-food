{"version":3,"file":"js/603.cfeb6245.js","mappings":"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","sources":["webpack://food/./src/views/CheckoutView.vue","webpack://food/./src/views/CheckoutView.vue?d317"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-10\">\r\n          <h3 class=\"fw-bold mb-4 pt-3\">填寫寄送資料</h3>\r\n        </div>\r\n      </div>\r\n      <div class=\"row flex-row-reverse justify-content-center pb-5\">\r\n        <div class=\"col-md-4\">\r\n          <div class=\"border p-4 mb-4\">\r\n            <div class=\"d-flex\"  v-for=\"cart in carts\" :key=\"cart.id\">\r\n              <img :src=\"cart.product.imageUrl\" alt=\"\" class=\"me-2\" style=\"width: 48px; height: 48px; object-fit: cover\">\r\n              <div class=\"w-100\">\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <p class=\"mb-0 fw-bold\">{{cart.product.title}}</p>\r\n                  <p class=\"mb-0\">NT${{cart.final_total}}</p>\r\n                </div>\r\n                <p class=\"mb-0 fw-bold\">x{{cart.qty}}</p>\r\n              </div>\r\n            </div>\r\n            <table class=\"table mt-4 border-top border-bottom text-muted\">\r\n              <tbody>\r\n                <tr>\r\n                  <th scope=\"row\" class=\"border-0 px-0 pt-4 font-weight-normal\">小計</th>\r\n                  <td class=\"text-end border-0 px-0 pt-4\">NT${{total.total}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th scope=\"row\" class=\"border-0 px-0 pt-0 pb-4 font-weight-normal\">運費</th>\r\n                  <td class=\"text-end border-0 px-0 pt-0 pb-4\">NT$30</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"d-flex justify-content-between mt-4\">\r\n              <p class=\"mb-0 h4 fw-bold\">Total</p>\r\n              <p class=\"mb-0 h4 fw-bold\">NT${{total.final_total + 30}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <form>\r\n            <p>Send information</p>\r\n            <div class=\"mb-2\">\r\n              <label for=\"customerEmail\" class=\"text-muted mb-0\">Email</label>\r\n              <input type=\"email\" class=\"form-control\" id=\"customerEmail\" aria-describedby=\"emailHelp\" placeholder=\"example@gmail.com\">\r\n            </div>\r\n            <div class=\"mb-2\">\r\n              <label for=\"customerAddress\" class=\"text-muted mb-0\">Shipping address</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"customerAddress\" placeholder=\"address\">\r\n            </div>\r\n            <div class=\"mb-2\">\r\n              <label for=\"customerName\" class=\"text-muted mb-0\">Name</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"customerName\" placeholder=\"Carmen A. Rose\">\r\n            </div>\r\n            <div class=\"mb-2\">\r\n              <label for=\"customerPhone\" class=\"text-muted mb-0\">Phone</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"customerPhone\" placeholder=\"Password\">\r\n            </div>\r\n            <div class=\"mb-2\">\r\n              <label for=\"customerMessage\" class=\"text-muted mb-0\">Message</label>\r\n              <textarea class=\"form-control\" rows=\"3\" id=\"customerMessage\" placeholder=\"message ... \"></textarea>\r\n            </div>\r\n          </form>\r\n          <div class=\"d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end w-100\">\r\n            <router-link class=\"text-dark mt-md-0 mt-3\" to=\"/products\"><i class=\"bi bi-chevron-double-left\"></i>返回產品列表</router-link>\r\n            <div class=\"btn btn-dark py-3 px-7\" to=\"/success\" @click=\"addToOrder\">寄出</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      carts: [],\r\n      total: []\r\n    }\r\n  },\r\n  methods: {\r\n    getCartsData () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(url)\r\n        .then(res => {\r\n          console.log(res)\r\n          this.carts = res.data.data.carts\r\n          this.total = res.data.data\r\n          console.log(this.total)\r\n        })\r\n    },\r\n    addToOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const customerName = document.querySelector('#customerName').value\r\n      const customerEmail = document.querySelector('#customerEmail').value\r\n      const customerPhone = document.querySelector('#customerPhone').value\r\n      const customerAddress = document.querySelector('#customerAddress').value\r\n      const customerMessage = document.querySelector('#customerMessage').value\r\n\r\n      if (customerName === '' || customerEmail === '' || customerPhone === '') {\r\n        alert('看一下下資料是否正確 ')\r\n        return 0\r\n      } else {\r\n        const data = {\r\n          user: {\r\n            name: customerName,\r\n            email: customerEmail,\r\n            tel: customerPhone,\r\n            address: customerAddress\r\n          },\r\n          message: customerMessage\r\n        }\r\n        this.$http.post(url, { data }).then((res) => {\r\n          console.log(res)\r\n          this.$router.push({ path: '/success' })\r\n          this.getCartsData()\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCartsData()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CheckoutView.vue?vue&type=template&id=0a365127\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Manson\\\\OneDrive\\\\桌面\\\\food\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_createElementBlock","_hoisted_2","_Fragment","_renderList","$data","cart","key","id","src","product","imageUrl","alt","style","_toDisplayString","title","final_total","qty","_hoisted_13","total","_hoisted_15","_hoisted_17","_hoisted_20","_createVNode","_component_router_link","to","_hoisted_22","onClick","$options","data","carts","methods","getCartsData","url","this","$http","get","then","res","console","log","addToOrder","customerName","document","querySelector","value","customerEmail","customerPhone","customerAddress","customerMessage","alert","user","name","email","tel","address","message","post","$router","push","path","mounted","__exports__","render"],"sourceRoot":""}